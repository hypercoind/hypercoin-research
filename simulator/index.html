<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bitcoin Monte Carlo Simulator - Hypercoin Research</title>

    <!-- Security Headers -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' https://cdn.jsdelivr.net; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data:; connect-src 'self' https://api.coingecko.com https://api.coincap.io https://api.binance.com; base-uri 'self'; form-action 'self';">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta http-equiv="X-XSS-Protection" content="1; mode=block">
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
    <meta http-equiv="Permissions-Policy" content="camera=(), microphone=(), geolocation=(), payment=()">

    <script src="https://cdn.jsdelivr.net/npm/plotly.js@2.26.0/dist/plotly.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" crossorigin="anonymous" />

    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="../css/simulator.css">

</head>

<body class="simulator">
    <div class="site-header">
        <div class="site-header-content">
            <a href="../index.html" class="site-logo">hypercoin.info</a>
            <button class="theme-toggle" id="theme-toggle" aria-label="Toggle dark/light theme">☀️ Light</button>
        </div>
    </div>

    <main>
        <div class="container">
            <header>
                <h1>Bitcoin Monte Carlo Simulator</h1>
                <p>Probabilistic modeling of Bitcoin price trajectories using advanced statistical methods</p>
            </header>

            <div class="controls">
                <div class="control-group">
                    <label>Current Price ($)</label>
                    <div class="price-input-container">
                        <input type="number" id="currentPrice" min="1000" step="1000">
                        <div class="price-loading" id="priceLoading" style="display: none;">
                            <span class="price-spinner">⟳</span>
                        </div>
                    </div>
                    <div class="price-info" id="priceInfo" style="display: none;">
                        <span class="price-source"></span>
                        <span class="price-timestamp"></span>
                    </div>
                </div>
                <div class="control-group">
                    <label>Annual Volatility (%)</label>
                    <input type="number" id="volatility" value="42" min="10" max="200" step="1">
                </div>
                <div class="control-group">
                    <label>Scenario</label>
                    <select id="scenario">
                        <option value="0.21">Conservative (21% annual)</option>
                        <option value="0.33">Moderate (33% annual)</option>
                        <option value="0.42" selected>Optimistic (42% annual)</option>
                        <option value="0.60">Maximalist (60% annual)</option>
                        <option value="0.14">Bearish (14% annual)</option>
                    </select>
                </div>
                <div class="control-group">
                    <label>Simulations</label>
                    <select id="numSims">
                        <option value="1000">1,000</option>
                        <option value="5000" selected>5,000</option>
                        <option value="10000">10,000</option>
                    </select>
                </div>
                <button class="run-simulation-btn" id="runSimBtn" aria-label="Run Monte Carlo simulation">Run Simulation</button>
            </div>

            <div id="loading" class="loading-overlay" role="status" aria-live="polite" style="display: none;">
                <div class="loading-spinner"></div>
                <div class="loading-text">Running Bitcoin Monte Carlo Simulation</div>
                <div class="loading-subtext">Computing probability distributions across multiple time horizons...</div>
            </div>

            <div class="chart-container" style="display: none;">
                <div id="priceChart" style="width: 100%; height: 100%;"></div>
            </div>

            <div class="stats-grid" id="statsGrid" style="display: none;"></div>

            <div class="probability-table" style="display: none;">
                <h3>Probability of Reaching Price Milestones</h3>
                <table id="probabilityTable">
                    <thead>
                        <tr>
                            <th>Milestone</th>
                            <th>5 Years</th>
                            <th>10 Years</th>
                            <th>15 Years</th>
                            <th>20 Years</th>
                        </tr>
                    </thead>
                    <tbody id="probabilityBody"></tbody>
                </table>
            </div>

            <div class="disclaimer-section">
                <p><strong>⚠️ Disclaimer:</strong> This tool provides educational simulations based on statistical analysis. Results are not investment advice and do not guarantee future performance.</p>
            </div>
        </div>
    </main>

    <script src="../js/shared/theme.js"></script>
    <script src="../js/simulator.js"></script>
</body>

</html>
